/* ng-infinite-scroll - v1.2.0 - 2016-07-01 */
var mod;mod=angular.module("infinite-scroll",[]),mod.value("THROTTLE_MILLISECONDS",null),mod.directive("infiniteScroll",["$rootScope","$window","$interval","$q","$swipe","THROTTLE_MILLISECONDS",function(a,b,c,d,e,f){return{scope:{infiniteScroll:"&",infiniteScrollContainer:"=",infiniteScrollDisabled:"=",infiniteScrollDistance:"=",infiniteScrollListenForEvent:"@",infiniteScrollPromise:"=",infiniteScrollUseDocumentBottom:"="},link:function(d,g,h){var i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H;return k=null,l=null,t=!0,x=null,y=h.infiniteScrollDirection||"bottom",z=null,A=null,D=!1,E=!1,C=null,F=!1,H=angular.element(b),s=function(a){return a=a[0]||a,isNaN(a.offsetHeight)?a.document.documentElement.clientHeight:a.offsetHeight},u=function(a){return a[0].offsetWidth&&a[0].offsetHeight},v=function(a){if(a[0].getBoundingClientRect&&!a.css("none"))return a[0].getBoundingClientRect().top+w(a)},w=function(a){return a=a[0]||a,isNaN(window.pageYOffset)?a.document.documentElement.scrollTop:a.ownerDocument.defaultView.pageYOffset},i=function(){return r()},G=function(a){if(a.deltaY>0||a.deltaY<0)return r()},r=function(){var b,c,e,f,h;if(u(g)?(l===H?(b=s(l)+w(l[0].document.documentElement),e=v(g)+s(g),c=l[0].pageYOffset):(b=s(l),c=0,void 0!==v(l)&&(c=v(l)),e=v(g)-c+s(g)),D&&(e=s((g[0].ownerDocument||g[0].document).documentElement)),"bottom"===y?f=e-b:"top"===y&&(f=c-v(g)),h=f<=s(l)*z+1):h=!1,!h)return k=!1;if(k=!0,A){if(!E)return d.$$phase||a.$$phase?d.infiniteScroll():d.$apply(d.infiniteScroll);if(!F)return F=!0,x=d.infiniteScroll(),x.then(function(){if(!d.$$phase&&!a.$$phase)return d.$apply()})["finally"](F=!1)}},B=function(a,b){var d,e,f;return f=null,e=0,d=function(){var b;return e=(new Date).getTime(),c.cancel(f),f=null,a.call(),b=null},function(){var g,h;return g=(new Date).getTime(),h=b-(g-e),h<=0?(clearTimeout(f),c.cancel(f),f=null,e=g,a.call()):f?void 0:f=c(d,h,1)}},null!=f&&(r=B(r,f)),d.$on("$destroy",function(){if(l.unbind("scroll",r),null!=C)return C(),C=null}),o=function(a){return z=parseFloat(a)||0},d.$watch("infiniteScrollDistance",o),o(d.infiniteScrollDistance),n=function(a){if(A=!a,A&&k)return k=!1,r()},d.$watch("infiniteScrollDisabled",n),n(d.infiniteScrollDisabled),q=function(a){return D=a},d.$watch("infiniteScrollUseDocumentBottom",q),q(d.infiniteScrollUseDocumentBottom),p=function(a){return E=a},d.$watch("infiniteScrollPromise",p),p(d.infiniteScrollPromise),j=function(a){if(null!=l&&(l.unbind("scroll",r),l.unbind("wheel",G),l.unbind("touchcancel",i)),l=a,null!=a)return l.bind("wheel",G),e.bind(l,{cancel:i},["touch"]),l.bind("scroll",r)},j(H),d.infiniteScrollListenForEvent&&(C=a.$on(d.infiniteScrollListenForEvent,r)),m=function(a){if(null!=a&&0!==a.length){if(a instanceof HTMLElement?a=angular.element(a):"function"==typeof a.append?a=angular.element(a[a.length-1]):"string"==typeof a&&(a=angular.element(document.querySelector(a))),null!=a)return j(a);throw new Exception("invalid infinite-scroll-container attribute.")}},d.$watch("infiniteScrollContainer",m),m(d.infiniteScrollContainer||[]),null!=h.infiniteScrollParent&&j(angular.element(g.parent())),null!=h.infiniteScrollImmediateCheck&&(t=d.$eval(h.infiniteScrollImmediateCheck)),c(function(){if(t)return r()},0,1)}}}]);