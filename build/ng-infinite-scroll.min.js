/* ng-infinite-scroll - v1.2.0 - 2015-11-09 */
var mod;mod=angular.module("infinite-scroll",[]),mod.value("THROTTLE_MILLISECONDS",null),mod.directive("infiniteScroll",["$rootScope","$window","$interval","$q","$swipe","THROTTLE_MILLISECONDS",function(a,b,c,d,e,f){return{scope:{infiniteScroll:"&",infiniteScrollTop:"&",infiniteScrollContainer:"=",infiniteScrollDistance:"=",infiniteScrollDisabled:"=",infiniteScrollPromise:"=",infiniteScrollPromiseTop:"=",infiniteScrollTopDisabled:"=",infiniteScrollUseDocumentBottom:"=",infiniteScrollListenForEvent:"@"},link:function(g,h,i){var j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N;return N=angular.element(b),C=null,D=null,E=null,l=null,m=null,w=!0,H=!1,I=!1,J=!1,K=!1,L=!1,A=null,B=null,G=null,v=function(a){return a=a[0]||a,isNaN(a.offsetHeight)?a.document.documentElement.clientHeight:a.offsetHeight},x=function(a){return a[0].offsetWidth&&a[0].offsetHeight},y=function(a){return a[0].getBoundingClientRect&&!a.css("none")?a[0].getBoundingClientRect().top+z(a):void 0},z=function(a){return a=a[0]||a,isNaN(window.pageYOffset)?a.document.documentElement.scrollTop:a.ownerDocument.defaultView.pageYOffset},j=function(){return u()},M=function(a){return a.deltaY>0||a.deltaY<0?u():void 0},u=function(){var b,c,e,f,i,j,k;if(x(h)?(m===N?(b=v(m)+z(m[0].document.documentElement),e=y(h)+v(h),c=m[0].pageYOffset):(b=v(m),c=0,void 0!==y(m)&&(c=y(m)),e=y(h)-c+v(h)),H&&(e=v((h[0].ownerDocument||h[0].document).documentElement)),f=e-b,j=f<=v(m)*C+1,i=c-y(h),k=i<=v(m)*C+1):(j=!1,k=!1),j&&(l=!0,D)){if(!I)return g.$$phase||a.$$phase?void g.infiniteScroll():void g.$apply(g.infiniteScroll);if(!K)return K=!0,A=g.infiniteScroll(),void A.then(function(){return(g.$$phase||a.$$phase)["finally"](K=!1)?void 0:g.$apply()})}return k?(l=!0,void(E&&(J?L||(L=!0,B=d.when(g.infiniteScrollTop()),B.then(function(){m[0].scrollTop=m[0].scrollHeight-f,g.$$phase||a.$$phase||g.$apply()})["finally"](L=!1)):g.$$phase||a.$$phase?g.infiniteScrollTop():g.$apply(g.infiniteScrollTop)))):l=!1},F=function(a,b){var d,e,f;return f=null,e=0,d=function(){var b;return e=(new Date).getTime(),c.cancel(f),f=null,a.call(),b=null},function(){var g,h;return g=(new Date).getTime(),h=b-(g-e),0>=h?(clearTimeout(f),c.cancel(f),f=null,e=g,a.call()):f?void 0:f=c(d,h,1)}},null!=f&&(u=F(u,f)),g.$on("$destroy",function(){return m.unbind("scroll",u),null!=G?(G(),G=null):void 0}),p=function(a){return C=parseFloat(a)||0},g.$watch("infiniteScrollDistance",p),p(g.infiniteScrollDistance),o=function(a){return D=!a,D&&l?(l=!1,u()):void 0},g.$watch("infiniteScrollDisabled",o),o(g.infiniteScrollDisabled),t=function(a){return E=!a,E&&l?(l=!1,u()):void 0},g.$watch("infiniteScrollTopDisabled",t),t(g.infiniteScrollTopDisabled),s=function(a){return H=a},g.$watch("infiniteScrollUseDocumentBottom",s),s(g.infiniteScrollUseDocumentBottom),q=function(a){return I=a},g.$watch("infiniteScrollPromise",q),q(g.infiniteScrollPromise),r=function(a){return J=a},g.$watch("infiniteScrollPromiseTop",r),r(g.infiniteScrollPromiseTop),k=function(a){return null!=m&&(m.unbind("scroll",u),m.unbind("wheel",M),m.unbind("touchcancel",j)),m=a,null!=a?(m.bind("wheel",M),e.bind(m,{cancel:j},["touch"]),m.bind("scroll",u)):void 0},k(N),g.infiniteScrollListenForEvent&&(G=a.$on(g.infiniteScrollListenForEvent,u)),n=function(a){if(null!=a&&0!==a.length){if(a instanceof HTMLElement?a=angular.element(a):"function"==typeof a.append?a=angular.element(a[a.length-1]):"string"==typeof a&&(a=angular.element(document.querySelector(a))),null!=a)return k(a);throw new Exception("invalid infinite-scroll-container attribute.")}},g.$watch("infiniteScrollContainer",n),n(g.infiniteScrollContainer||[]),null!=i.infiniteScrollParent&&k(angular.element(h.parent())),null!=i.infiniteScrollImmediateCheck&&(w=g.$eval(i.infiniteScrollImmediateCheck)),c(function(){return w?u():void 0},0,1)}}}]);