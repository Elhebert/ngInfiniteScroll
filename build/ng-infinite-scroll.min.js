/* ng-infinite-scroll - v1.2.0 - 2015-10-16 */
var mod;mod=angular.module("infinite-scroll",[]),mod.value("THROTTLE_MILLISECONDS",null),mod.directive("infiniteScroll",["$rootScope","$window","$interval","$q","THROTTLE_MILLISECONDS",function(a,b,c,d,e){return{scope:{infiniteScroll:"&",infiniteScrollTop:"&",infiniteScrollContainer:"=",infiniteScrollDistance:"=",infiniteScrollDisabled:"=",infiniteScrollPromise:"=",infiniteScrollPromiseTop:"=",infiniteScrollTopDisabled:"=",infiniteScrollUseDocumentBottom:"=",infiniteScrollListenForEvent:"@"},link:function(d,f,g){var h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J;return J=angular.element(b),z=null,A=null,B=null,i=null,j=null,t=!0,E=!1,F=!1,G=!1,H=!1,I=!1,x=null,y=null,D=null,s=function(a){return a=a[0]||a,isNaN(a.offsetHeight)?a.document.documentElement.clientHeight:a.offsetHeight},u=function(a){return a[0].offsetWidth&&a[0].offsetHeight},v=function(a){return a[0].getBoundingClientRect&&!a.css("none")?a[0].getBoundingClientRect().top+w(a):void 0},w=function(a){return a=a[0]||a,isNaN(window.pageYOffset)?a.document.documentElement.scrollTop:a.ownerDocument.defaultView.pageYOffset},r=function(){var b,c,e,g,h,k,l;if(u(f)?(j===J?(b=s(j)+w(j[0].document.documentElement),e=v(f)+s(f),c=j.scrollTop()):(b=s(j),c=0,void 0!==v(j)&&(c=v(j)),e=v(f)-c+s(f)),E&&(e=s((f[0].ownerDocument||f[0].document).documentElement)),g=e-b,k=g<=s(j)*z+1,h=c-v(f),l=h<=s(j)*z+1):(k=!1,l=!1),k){if(i=!0,A){if(!F)return d.$$phase||a.$$phase?d.infiniteScroll():d.$apply(d.infiniteScroll);if(!H)return H=!0,x=d.$$phase||a.$$phase?d.infiniteScroll():d.$apply(d.infiniteScroll),x.then(function(a){return a.data})["finally"](H=!1)}}else{if(!l)return i=!1;if(i=!0,B){if(!G)return d.$$phase||a.$$phase?d.infiniteScrollTop():d.$apply(d.infiniteScrollTop);if(!I)return I=!0,y=d.$$phase||a.$$phase?d.infiniteScrollTop():d.$apply(d.infiniteScrollTop),y.then(function(a){return a.data})["finally"](I=!1)}}},C=function(a,b){var d,e,f;return f=null,e=0,d=function(){var b;return e=(new Date).getTime(),c.cancel(f),f=null,a.call(),b=null},function(){var g,h;return g=(new Date).getTime(),h=b-(g-e),0>=h?(clearTimeout(f),c.cancel(f),f=null,e=g,a.call()):f?void 0:f=c(d,h,1)}},null!=e&&(r=C(r,e)),d.$on("$destroy",function(){return j.unbind("scroll",r),null!=D?(D(),D=null):void 0}),m=function(a){return z=parseFloat(a)||0},d.$watch("infiniteScrollDistance",m),m(d.infiniteScrollDistance),l=function(a){return A=!a,A&&i?(i=!1,r()):void 0},d.$watch("infiniteScrollDisabled",l),l(d.infiniteScrollDisabled),q=function(a){return B=!a,B&&i?(i=!1,r()):void 0},d.$watch("infiniteScrollTopDisabled",q),q(d.infiniteScrollTopDisabled),p=function(a){return E=a},d.$watch("infiniteScrollUseDocumentBottom",p),p(d.infiniteScrollUseDocumentBottom),n=function(a){return F=a},d.$watch("infiniteScrollPromise",n),n(d.infiniteScrollPromise),o=function(a){return G=a},d.$watch("infiniteScrollPromiseTop",o),o(d.infiniteScrollPromiseTop),h=function(a){return null!=j&&j.unbind("scroll",r),j=a,null!=a?j.bind("scroll",r):void 0},h(J),d.infiniteScrollListenForEvent&&(D=a.$on(d.infiniteScrollListenForEvent,r)),k=function(a){if(null!=a&&0!==a.length){if(a instanceof HTMLElement?a=angular.element(a):"function"==typeof a.append?a=angular.element(a[a.length-1]):"string"==typeof a&&(a=angular.element(document.querySelector(a))),null!=a)return h(a);throw new Exception("invalid infinite-scroll-container attribute.")}},d.$watch("infiniteScrollContainer",k),k(d.infiniteScrollContainer||[]),null!=g.infiniteScrollParent&&h(angular.element(f.parent())),null!=g.infiniteScrollImmediateCheck&&(t=d.$eval(g.infiniteScrollImmediateCheck)),c(function(){return t?r():void 0},0,1)}}}]);