/* ng-infinite-scroll - v1.2.0 - 2015-11-09 */
var mod;mod=angular.module("infinite-scroll",[]),mod.value("THROTTLE_MILLISECONDS",null),mod.directive("infiniteScroll",["$rootScope","$window","$interval","$q","THROTTLE_MILLISECONDS",function(a,b,c,d,e){return{scope:{infiniteScroll:"&",infiniteScrollTop:"&",infiniteScrollContainer:"=",infiniteScrollDistance:"=",infiniteScrollDisabled:"=",infiniteScrollPromise:"=",infiniteScrollPromiseTop:"=",infiniteScrollTopDisabled:"=",infiniteScrollUseDocumentBottom:"=",infiniteScrollListenForEvent:"@"},link:function(f,g,h){var i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K;return K=angular.element(b),A=null,B=null,C=null,j=null,k=null,u=!0,F=!1,G=!1,H=!1,I=!1,J=!1,y=null,z=null,E=null,t=function(a){return a=a[0]||a,isNaN(a.offsetHeight)?a.document.documentElement.clientHeight:a.offsetHeight},v=function(a){return a[0].offsetWidth&&a[0].offsetHeight},w=function(a){return a[0].getBoundingClientRect&&!a.css("none")?a[0].getBoundingClientRect().top+x(a):void 0},x=function(a){return a=a[0]||a,isNaN(window.pageYOffset)?a.document.documentElement.scrollTop:a.ownerDocument.defaultView.pageYOffset},K.on("wheel",function(a){return a.deltaY>0||a.deltaY<0?s():void 0}),s=function(){var b,c,e,h,i,l,m;if(v(g)?(k===K?(b=t(k)+x(k[0].document.documentElement),e=w(g)+t(g),c=k[0].pageYOffset):(b=t(k),c=0,void 0!==w(k)&&(c=w(k)),e=w(g)-c+t(g)),F&&(e=t((g[0].ownerDocument||g[0].document).documentElement)),h=e-b,l=h<=t(k)*A+1,i=c-w(g),m=i<=t(k)*A+1):(l=!1,m=!1),l){if(j=!0,B){if(!G)return f.$$phase||a.$$phase?f.infiniteScroll():f.$apply(f.infiniteScroll);if(!I)return I=!0,y=f.infiniteScroll(),y.then(function(){return(f.$$phase||a.$$phase)["finally"](I=!1)?void 0:f.$apply()})}}else{if(!m)return j=!1;if(j=!0,C){if(!H)return f.$$phase||a.$$phase?f.infiniteScrollTop():f.$apply(f.infiniteScrollTop);if(!J)return J=!0,z=d.when(f.infiniteScrollTop()),z.then(function(){k[0].scrollTop=k[0].scrollHeight-h,f.$$phase||a.$$phase||f.$apply()})["finally"](J=!1)}}},D=function(a,b){var d,e,f;return f=null,e=0,d=function(){var b;return e=(new Date).getTime(),c.cancel(f),f=null,a.call(),b=null},function(){var g,h;return g=(new Date).getTime(),h=b-(g-e),0>=h?(clearTimeout(f),c.cancel(f),f=null,e=g,a.call()):f?void 0:f=c(d,h,1)}},null!=e&&(s=D(s,e)),f.$on("$destroy",function(){return k.unbind("scroll",s),null!=E?(E(),E=null):void 0}),n=function(a){return A=parseFloat(a)||0},f.$watch("infiniteScrollDistance",n),n(f.infiniteScrollDistance),m=function(a){return B=!a,B&&j?(j=!1,s()):void 0},f.$watch("infiniteScrollDisabled",m),m(f.infiniteScrollDisabled),r=function(a){return C=!a,C&&j?(j=!1,s()):void 0},f.$watch("infiniteScrollTopDisabled",r),r(f.infiniteScrollTopDisabled),q=function(a){return F=a},f.$watch("infiniteScrollUseDocumentBottom",q),q(f.infiniteScrollUseDocumentBottom),o=function(a){return G=a},f.$watch("infiniteScrollPromise",o),o(f.infiniteScrollPromise),p=function(a){return H=a},f.$watch("infiniteScrollPromiseTop",p),p(f.infiniteScrollPromiseTop),i=function(a){return null!=k&&k.unbind("scroll",s),k=a,null!=a?k.bind("scroll",s):void 0},i(K),f.infiniteScrollListenForEvent&&(E=a.$on(f.infiniteScrollListenForEvent,s)),l=function(a){if(null!=a&&0!==a.length){if(a instanceof HTMLElement?a=angular.element(a):"function"==typeof a.append?a=angular.element(a[a.length-1]):"string"==typeof a&&(a=angular.element(document.querySelector(a))),null!=a)return i(a);throw new Exception("invalid infinite-scroll-container attribute.")}},f.$watch("infiniteScrollContainer",l),l(f.infiniteScrollContainer||[]),null!=h.infiniteScrollParent&&i(angular.element(g.parent())),null!=h.infiniteScrollImmediateCheck&&(u=f.$eval(h.infiniteScrollImmediateCheck)),c(function(){return u?s():void 0},0,1)}}}]);